<div class="container mx-auto mt-8">

    <div 
        class="bg-white shadow-md rounded-lg p-4 border border-gray-300 transition-all duration-300 ease-in-out"
        [class]="expandirPanel ? 'max-h-[1400px] overflow-hidden' : 'max-h-18 overflow-hidden'">

        <div class="flex justify-between items-center">
            <h1 class="text-purple-700 font-bold text-xl">Personas que aprueban la versión del proyecto: <span> {{ usuarios.length }} </span></h1>

            <button 
                mat-icon-button 
                class="transition-all duration-300 ease-in"
                [class]="expandirPanel ? 'rotate-180':'rotate-0' "
                (click)="mostrarUsuarios()">
                <mat-icon>keyboard_arrow_down</mat-icon>
            </button>
            
        </div>


        <div class="mt-8 flex flex-wrap gap-4">

            <div class="border border-gray-300 rounded p-4 max-w-xs text-center shadow">
                <h3 class="text-gray-700 font-bold">Agrega más personas a tu acta de aceptación</h3>
                <qrcode 
                    [attr.style]="'background: transparent;'"  
                    [qrdata]="pathQR" 
                    [width]="275" 
                    [errorCorrectionLevel]="'M'">
                </qrcode>
            </div>
            <!-- Listado en forma de cards -->

            @for (usuario of usuarios; track $index) {
                <div class="border border-purple-700 rounded p-4 w-xs h-[368px] text-center shadow shadow-purple-700 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 ease-in">
                    <h3 class="text-purple-700 font-bold">{{ usuario.nombre }}</h3>
                    <h3 class="text-purple-700 font-medium">{{ usuario.institucion }}</h3>
                    <h3 class="text-purple-700 font-medium">{{ usuario.cargo }}</h3>
                    <hr class="my-2">
                    <img [src]="backURL + usuario.documento_identidad" alt="documento" class="h-52 mx-auto">
                </div>
            }


        </div>




    </div>

</div>